(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{7019:e=>{"use strict";e.exports=JSON.parse('{"ab":[{"id":"1","question":"واش كتكمي؟","type":"multiple_choice","options":["اه","مرة مرة"]},{"id":"2","question":"عندك بلية اخرى من غير الكارو؟","type":"multiple_choice","options":["اه","لا"]},{"id":"3","question":"شحال من كارو فالنهار؟","type":"multiple_choice","options":["كل مرة واشنو ","اكثر من 5 فالنهاره","أقل من 5 فالنهار"]},{"id":"4","question":"باش كايعجبك دوز؟","type":"multiple_choice","options":["كوكة","قهوة","أتاي"]},{"id":"5","question":" اشمن نوع ديال السجارة كتستعمل؟","type":"multiple_choice","options":["السجارة الإلكترونية","السجارة العادية"]},{"id":"6","question":"شحال كان فعمرك ملي تبليتي؟","type":"multiple_choice","options":["بعد 25 عام","بين 18 عام و 25 عام","أقل من 18 عام"]},{"id":"7","question":"شكون لي بلاك؟","type":"multiple_choice","options":["ماشي سوقك","صحابي ","بليت راسي"]},{"id":"8","question":"اشنو لي كايخليك تكمي؟","type":"multiple_choice","options":["غير شاد ستون","الستريس","الظروف"]},{"id":"9","question":"واش كتفكر تبعد من هاذ البلية؟","type":"multiple_choice","options":["مبغيتش نبعد","مزال ممستعدش","ديما كانفكر"]},{"id":"10","question":"شحال كاتخسر دالفلوس كل نهار فهاذ البلية؟","type":"multiple_choice","options":["أكثر من 150 درهم","بين 50 درهم و 150 درهم","أقل من 50 درهم"]},{"id":"11","question":"واش الى بدلتي المحيط تقدر تبعد من البلية؟","type":"multiple_choice","options":["لا","أه"]},{"id":"12","question":"واش كاتشوف راسك تقدر تعافى من هاد البلية؟","type":"multiple_choice","options":["فات الفوت","كاين أمل"]},{"id":"13","question":"واش كاتسهر؟","type":"multiple_choice","options":["كنعس معا الدجاج","بزااف","مرة مرة"]},{"id":"14","question":"واش عاجباك حالتك ونتا مبلي؟","type":"multiple_choice","options":["لا","اه"]},{"id":"15","question":"واش كاتريني؟","type":"multiple_choice","options":["مرة مرة","لا","اه"]},{"id":"16","question":"اشنو تبغي تنصح الناس لي باقي متبلاوش؟","type":"text_input"},{"id":"17","question":"واش كاينا شي حاجة اخرى مأثرة عليك؟","type":"text_input"}]}')},8911:(e,t,i)=>{Promise.resolve().then(i.bind(i,9971))},9971:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var l=i(5155),s=i(2115),o=i(3915),n=i(5317),c=i(7019);let a=(0,o.Wp)({apiKey:"AIzaSyDuBbgwcJR0wWJMq7CFV-VgZMqNtFzDPko",authDomain:"iqlaa-9b951.firebaseapp.com",projectId:"iqlaa-9b951",storageBucket:"iqlaa-9b951.firebasestorage.app",messagingSenderId:"728888284570",appId:"1:728888284570:web:af08032d700e028a029623",measurementId:"G-YVR4ERB4BJ"}),p=(0,n.aU)(a),u=c.ab||[],r=()=>{let[e,t]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[c,a]=(0,s.useState)({});if((0,s.useEffect)(()=>{(async()=>{try{let e=(await (0,n.GG)((0,n.rJ)(p,"users"))).docs.map(e=>({id:e.id,...e.data()}));t(e),console.log("Fetched responses: ",e)}catch(e){console.error("Error fetching responses:",e)}finally{o(!1)}})()},[]),(0,s.useEffect)(()=>{let t={};u.forEach(e=>{"multiple_choice"===e.type&&e.options&&(t[e.id]={},e.options.forEach(i=>{t[e.id][i]=0}))}),e.forEach(e=>{var i;null==(i=e.responses)||i.forEach(e=>{let{questionId:i,answer:l}=e;t[i]&&void 0!==t[i][l]&&t[i][l]++})}),a(t),Object.keys(t).length>0&&console.log("Stats: ",t)},[e]),i)return(0,l.jsx)("div",{children:"Loading..."});let r="إجمالي عدد الإجابات: "+e.length;return(0,l.jsxs)("div",{className:"bg-gray-800 flex flex-col items-center justify-center",dir:"rtl",children:[(0,l.jsx)("h2",{className:"mt-10 mb-2 text-4xl font-bold text-center mb-10",style:{color:"cyan"},children:r}),(0,l.jsx)("ul",{className:"w-[50%] flex flex-col gap-8 mb-50",style:{minWidth:300},children:u.filter(e=>"multiple_choice"===e.type).map(e=>(0,l.jsxs)("li",{className:"bg-gray-700 rounded-lg p-3",style:{},children:[(0,l.jsx)("div",{className:"font-bold mb-8",style:{color:"#e7e7e7ff",fontSize:"20px"},children:e.question}),(0,l.jsx)("ul",{className:" flex flex-col gap-2",children:e.options&&[...e.options].sort((t,i)=>{var l,s,o,n;return(null!=(o=null==(l=c[e.id])?void 0:l[i])?o:0)-(null!=(n=null==(s=c[e.id])?void 0:s[t])?n:0)}).map(t=>{var i,s;let o=null!=(s=null==(i=c[e.id])?void 0:i[t])?s:0,n=Object.values(c[e.id]||{}).reduce((e,t)=>Number(e)+Number(t),0),a=n>0?o/n*100:0;return(0,l.jsx)("li",{className:"mb-1",children:(0,l.jsxs)("div",{className:"relative h-full w-full rounded-lg bg-green-900",style:{zIndex:"0",height:"2.75rem"},children:[(0,l.jsx)("div",{className:"absolute top-0 h-full rounded-lg bg-green-700",style:{width:"".concat(a,"%"),zIndex:1,transition:"width 0.5s",background:"#6b6b6b7e"}}),(0,l.jsxs)("div",{className:"relative z-10 p-4 flex items-center h-full w-full justify-between",style:{color:"white"},children:[(0,l.jsx)("span",{className:"font-bold",children:t}),(0,l.jsxs)("span",{className:"text-gray-50 font-medium",children:[a.toFixed(0),"% - ",o]})]})]})},t)})})]},e.id))})]})}}},e=>{e.O(0,[992,399,441,964,358],()=>e(e.s=8911)),_N_E=e.O()}]);